{% extends "spotify_filter/base.html" %}
{% load render_table from django_tables2 %}
{% load bootstrap3 %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <div class="container">
      <!-- View Toggle Buttons -->
      <div class="view-toggle" style="margin: 20px 0;">
        <a href="?view=artists" 
           class="btn {% if active_view == 'artists' %}btn-primary{% else %}btn-default{% endif %}">
          View by Artists
        </a>
        <a href="?view=albums" 
           class="btn {% if active_view == 'albums' %}btn-primary{% else %}btn-default{% endif %}">
          View by Albums
        </a>
      </div>
      
      <!-- Filter Form -->
      {% if filter %}
        <form action="" method="get" class="form form-inline">
          <!-- Preserve the view parameter when filtering -->
          <input type="hidden" name="view" value="{{ active_view }}">
          {% bootstrap_form filter.form layout='inline' %}
          {% bootstrap_button 'filter' %}
        </form>
      {% endif %}
      
      <!-- Table -->
      {% render_table table %}
    </div>
{% endblock %}

