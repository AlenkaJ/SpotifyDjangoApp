{% extends "spotify_filter/base.html" %}
{% load static %}

{% block title %}Album Detail{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'spotify_filter/detail_styles.css' %}">
{% endblock %}

{% block content %}
<div id="frame">
<h1>{{ album.title }}</h1>

<p>Artist{{ album.artists.all|pluralize }}: 
  {% for artist in album.artists.all %}
    <a href="{% url 'spotify_filter:artist_detail' artist.id %}">{{ artist.name }}</a>{% if not forloop.last %}, {% endif %}
  {% endfor %}
</p>
<p>Total tracks: {{ album.total_tracks }}</p>
<p>Release date: {{ album.release_date }}</p>
<p>Added at: {{ album.added_at }}</p>
<p>Popularity: {{ album.popularity }}</p>
<p>Listen on Spotify: <a href="https://open.spotify.com/album/{{ album.spotify_id }}" target="_blank">Open in browser</a>, <a href="spotify:album:{{ album.spotify_id }}" target="_blank">Open in app</a></p>

{% if album.album_cover_large %}
  <img src="{{ album.album_cover_large }}" alt="Album Art" width="640" height="640", style="object-fit: cover;"/>
{% endif %}

<h2>Tracks:</h2>
  {% for rel in album.albumtrack_set.all %}
    <p>
      {{ rel.track_number }}. {{ rel.track.title }} 
    </p>
  {% endfor %}
</div>


<h3><a href="{% url 'spotify_filter:dashboard' %}">Back to Dashboard</a></h3>
{% endblock %}